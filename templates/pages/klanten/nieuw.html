<div class="wrapper" ng-controller="NewCustomerController as newCustomerCtrl">
    <form name="newCustomerForm" ng-submit="newCustomerForm.$valid && submitForm()" novalidate>
        <div class="page-header">
            <h1 class="title">Nieuwe klant</h1>
            <ol class="breadcrumb">
                <li><a href="#/klanten">Klanten</a></li>
                <li class="active">Nieuwe klant</li>
            </ol>
            <div class="right">
                <div class="btn-group small-control-mr" role="group" aria-label="...">
                    <button type="submit" ng-click="submit()" class="btn btn-light"><i class="fa fa-save"></i>Opslaan</button>
                </div>
        </div>
        </div>

        <div class="container-default">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="title">
                        <div class="form-group" ng-class="{'has-error': newCustomerForm.name.$invalid && submitted}">
                            <input class="form-control input-lg" type="text" placeholder="Bedrijfsnaam" name="name" ng-model="customerFormData.Info.name" required>
                        </div>
                    </div>

                    {{newCustomerForm.name.$valid}}
                    {{newCustomerForm.name.$touched}}
                    <div class="panel-body">
                        <ul class="list-group">
                            <li class="list-group-item">
                                <div class="form-horizontal">
                                    <div class="form-group">
                                        <label for="vat" class="col-sm-2 control-label form-label">BTW-nummer</label>

                                        <div class="col-sm-10">
                                            <input type="text" class="form-control" id="vat" name="vat" ng-model="customerFormData.Info.vat">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="phone" class="col-sm-2 control-label form-label">Telefoon</label>

                                        <div class="col-sm-10">
                                            <input type="text" class="form-control" id="phone" name="phone" ng-model="customerFormData.Info.phone">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="email" class="col-sm-2 control-label form-label">E-mail</label>

                                        <div class="col-sm-10">
                                            <input type="email" class="form-control" id="email" name="email" ng-model="customerFormData.Info.email">
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li id="addresses" class="list-group-item">
                                <div class="form-horizontal">
                                    <div class="panel-subtitle">Facturatieadres</div>
                                    <ul class="panel-tools">
                                        <a ng-hide="showOfficeAddress" ng-click="showOfficeAddress = true;" href="" class="btn btn-light"><i class="fa fa-plus"></i>Extra adres</a>
                                    </ul>
                                    <div class="form-group">

                                        <label for="billing-street" class="col-sm-2 control-label form-label">Adres</label>

                                        <div class="col-sm-10">
                                            <input type="text" class="form-control" id="billing-street" name="billing-street" ng-model="customerFormData.Info.billingStreet" required>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="billing-zipcode" class="col-sm-2 control-label form-label">Postcode</label>

                                        <div class="col-sm-10">
                                            <input type="text" class="form-control" id="billing-zipcode" name="billing-zipcode" ng-model="customerFormData.Info.billingZipcode" required>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="billing-city" class="col-sm-2 control-label form-label">Gemeente</label>

                                        <div class="col-sm-10">
                                            <input type="text" class="form-control" id="billing-city" name="billing-city" ng-model="customerFormData.Info.billingCity" required>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="billing-country" class="col-sm-2 control-label form-label">Land</label>

                                        <div class="col-sm-10">
                                            <ol id="billing-country" name="billing-country" class="nya-bs-select col-sm-12 col-xs-12" ng-model="customerFormData.Info.billingCountry" data-live-search="true">
                                                <li class="nya-bs-option" data-value="België"><a>België</a></li>
                                                <li class="nya-bs-option" data-value="Nederland"><a>Nederland</a></li>
                                                <li class="nya-bs-option" data-value="Frankrijk"><a>Frankrijk</a></li>
                                                <li class="nya-bs-option" data-value="Duitsland"><a>Duitsland</a></li>
                                                <li class="nya-bs-option" data-value="Groot-Britannië"><a>Groot-Britannië</a></li>
                                            </ol>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label for="billing-county" name="billing-county" class="col-sm-2 control-label form-label">Provincie</label>

                                        <div class="col-sm-10">
                                            <ol id="billing-county" class="nya-bs-select col-sm-12 col-xs-12" ng-model="customerFormData.Info.billingCounty" data-live-search="true">
                                                <li class="nya-bs-option" data-value="Antwerpen"><a>Antwerpen</a></li>
                                                <li class="nya-bs-option" data-value="Henegouwen"><a>Henegouwen</a></li>
                                                <li class="nya-bs-option" data-value="Limburg"><a>Limburg</a></li>
                                                <li class="nya-bs-option" data-value="Luik"><a>Luik</a></li>
                                                <li class="nya-bs-option" data-value="Namen"><a>Namen</a></li>
                                                <li class="nya-bs-option" data-value="Oost-Vlaanderen"><a>Oost-Vlaandern</a></li>
                                                <li class="nya-bs-option" data-value="Vlaams-Brabant"><a>Vlaams-Brabant</a></li>
                                                <li class="nya-bs-option" data-value="Waals-Brabant"><a>Waals-Brabant</a></li>
                                                <li class="nya-bs-option" data-value="West-Vlaanderen"><a>West-Vlaanderen</a></li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>

                                <kantoor-adres id="kantoorAdres" ng-show="showOfficeAddress"></kantoor-adres>
                            </li>

                            <li class="list-group-item">
                                <div class="panel-subtitle">Extra gegevens</div>
                                <div class="form-horizontal">
                                    <div class="form-group">
                                        <label for="customer-active" class="col-sm-2 control-label form-label">Klant actief ?</label>

                                        <div class="col-sm-10" ng-init="customerFormData.Info.active = true">
                                            <toggle-switch id="customer-active" name="customer-active" class="switch-small switch-success" ng-model="customerFormData.Info.active" on-label="Ja" off-label="Nee"></toggle-switch>
                                            <!--<input type="checkbox" checked data-toggle="toggle" data-onstyle="success" data-offstyle="danger" data-on="Ja" data-off="Nee" id="customer-active" ng-model="customerFormData.dateActive">-->
                                        </div>
                                    </div>

                                    <div class="form-group" ng-controller="DatePickerController as datePickerCtrl">
                                        <label for="customer-create" class="col-sm-2 control-label form-label">Klant sinds</label>

                                        <div class="col-sm-10">
                                            <div class="input-prepend input-group">
                                                <span class="add-on input-group-addon"><i class="fa fa-calendar"></i></span>
                                                <input type="text" id="date-picker" name="date-picker" class="form-control active" id="customer-create" ng-model="customerFormData.Info.dateCreate" required>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="panel-subtitle"><i class="fa fa-tags"></i> Tags</div>
                                <div class="form-group">
                                    <label for="tags" class="col-sm-2 control-label form-label"></label>

                                    <div class="col-sm-10 padding-0">
                                        <ol id="tags" name="tags" class="nya-bs-select dropup col-sm-12" ng-model="customerFormData.tags" multiple data-live-search="true" data-selected-text-format="count>6" data-size="6">
                                            <span class="dropdown-header">Web</span>
                                            <li class="nya-bs-option" data-value="Website"><a>Website<span class="fa fa-check check-mark"></span></a></li>
                                            <li class="nya-bs-option" data-value="Webshop"><a>Webshop<span class="fa fa-check check-mark"></span></a></li>
                                            <li class="nya-bs-option" data-value="Internet applicatie"><a>Internet applicatie<span class="fa fa-check check-mark"></span></a></li>

                                            <span class="dropdown-header">Communicatie</span>
                                            <li class="nya-bs-option" data-value="E-mail"><a>E-mail <span class="fa fa-check check-mark"></span></a></li>
                                            <li class="nya-bs-option" data-value="Telefoon"><a>Telefoon <span class="fa fa-check check-mark"></span></a></li>
                                            <li class="nya-bs-option" data-value="Kennis"><a>Kennis <span class="fa fa-check check-mark"></span></a></li>
                                            <li class="nya-bs-option" data-value="Beurs"><a>Beurs <span class="fa fa-check check-mark"></span></a></li>
                                        </ol>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>

                </div>
            </div>

            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-title">Contactpersonen</div>
                    <ul class="panel-tools">
                        <a add-contact ng-click="addNewContact(selectedContacts)" href="" class="btn btn-light"><i class="fa fa-plus"></i>Extra contactpersoon</a>
                    </ul>
                    <div class="panel-body">
                        <ul id="listContactpersons" class="list-group">
                            <div ng-repeat="contact in selectedContacts track by $index">
                                <ngform>
                                    <new-contact contactperson="contact"></new-contact>
                                </ngform>
                            </div>
                        </ul>
                    </div>
                </div>

                <pre>
                    {{customerFormData}}
                </pre>
                <pre>
                    FORM IS: {{newCustomerForm.$valid}}
                </pre>
                <pre>
                    {{selectedContacts}}
                </pre>
            </div>
        </div>
    </form>
</div>

<script src="lib/date-range-picker/daterangepicker.js"></script>

<script>
    //$(".selectpicker").selectpicker();
</script>
